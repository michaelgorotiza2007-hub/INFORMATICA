<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma Académica Ultimate</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="bg-noise"></div>
    <div class="bg-gradient"></div>

    <audio id="click-sound" src="sonido1.mp3" preload="auto"></audio>

    <div id="loader-overlay" class="hidden">
        <div class="spinner-neon"></div>
    </div>

    <div id="toast-container"></div>

    <div id="certificate-modal" class="modal-overlay hidden">
        <div class="cert-card-display">
            <button class="btn-close-cert" onclick="closeModal('certificate-modal')"><i class="fas fa-times"></i></button>
            <img id="cert-img-display" src="">
            <h2 id="cert-name-display"></h2>
        </div>
    </div>

    <div id="password-modal" class="modal-overlay hidden">
        <div class="modal-glass">
            <h3>ACCESO ADMIN</h3>
            <input type="password" id="admin-pass-input" placeholder="Contraseña...">
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('password-modal')">Cancelar</button>
                <button class="btn-neon" onclick="verifyPassword()">Entrar</button>
            </div>
        </div>
    </div>

    <div id="album-modal" class="modal-overlay hidden">
        <div class="modal-glass">
            <h3>NUEVO ÁLBUM</h3>
            <input type="text" id="new-album-name" placeholder="Nombre del Álbum">
            <input type="text" id="new-album-cover" placeholder="URL Portada">
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('album-modal')">Cancelar</button>
                <button class="btn-neon" onclick="createAlbum()">Crear</button>
            </div>
        </div>
    </div>

    <div id="media-modal" class="modal-overlay hidden">
        <div class="modal-glass">
            <h3>AÑADIR CONTENIDO</h3>
            <input type="text" id="new-media-url" placeholder="URL (Imagen o YouTube)">
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('media-modal')">Cancelar</button>
                <button class="btn-neon" onclick="uploadMedia()">Añadir</button>
            </div>
        </div>
    </div>

    <div id="member-modal" class="modal-overlay hidden">
        <div class="modal-glass large scrollable">
            <h3>PERFIL DE USUARIO</h3>
            <div class="grid-2">
                <div class="input-group">
                    <label>Nombre</label><input type="text" id="mem-name">
                </div>
                <div class="input-group">
                    <label>Apellido</label><input type="text" id="mem-last">
                </div>
                <div class="input-group">
                    <label>Edad</label><input type="text" id="mem-age">
                </div>
                <div class="input-group">
                    <label>Especialidad</label><input type="text" id="mem-spec">
                </div>
                <div class="input-group full">
                    <label>¿Cuál es su futuro?</label><input type="text" id="mem-future">
                </div>
                <div class="input-group">
                    <label>Color Favorito (Hex o Nombre)</label><input type="text" id="mem-color">
                </div>
                <div class="input-group">
                    <label>Música Favorita (YouTube Link)</label><input type="text" id="mem-music">
                </div>
                <div class="input-group full">
                    <label>URL Foto Perfil</label>
                    <input type="text" id="mem-photo" onchange="document.getElementById('prev-mem').src=this.value">
                </div>
                <div class="center-img">
                    <img id="prev-mem" src="https://via.placeholder.com/100">
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('member-modal')">Cancelar</button>
                <button class="btn-neon" onclick="saveMember()">Guardar Ficha</button>
            </div>
        </div>
    </div>

    <div id="category-modal" class="modal-overlay hidden">
        <div class="modal-glass">
            <h3>NUEVA CATEGORÍA</h3>
            <input type="text" id="cat-name" placeholder="Nombre Categoría">
            <input type="text" id="cat-cover" placeholder="URL Fondo">
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('category-modal')">Cancelar</button>
                <button class="btn-neon" onclick="saveCategory()">Crear</button>
            </div>
        </div>
    </div>

    <div id="nominee-modal" class="modal-overlay hidden">
        <div class="modal-glass">
            <h3>REGISTRO PREMIOS</h3>
            <input type="text" id="nom-name" placeholder="Nombre Completo">
            <input type="text" id="nom-photo" placeholder="URL Foto Perfil">
            <input type="text" id="nom-cert" placeholder="URL Certificado (Solo Ganador)">
            <input type="hidden" id="nom-type">
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('nominee-modal')">Cancelar</button>
                <button class="btn-neon" onclick="saveNominee()">Guardar</button>
            </div>
        </div>
    </div>

    <div id="social-modal" class="modal-overlay hidden">
        <div class="modal-glass">
            <h3>NUEVO CONTACTO</h3>
            <select id="social-type">
                <option value="social">Red Social</option>
                <option value="phone">Teléfono</option>
            </select>
            <input type="text" id="social-name" placeholder="Nombre (Ej: Facebook)">
            <input type="text" id="social-val" placeholder="URL o Número">
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('social-modal')">Cancelar</button>
                <button class="btn-neon" onclick="saveSocial()">Añadir</button>
            </div>
        </div>
    </div>

    <section id="view-1">
        <div class="intro-box">
            <img src="logo1.png" class="local-logo" alt="Logo Local">
            <button class="btn-enter-pulse" onclick="goToInterface(2)">INGRESAR</button>
        </div>
    </section>

    <header id="global-header" class="hidden">
        <div class="header-profile">
            <img id="header-course-img" src="https://via.placeholder.com/50" class="header-avatar">
            <h2 id="header-course-name">PERFIL</h2>
        </div>

        <div class="search-anim-box hidden" id="search-box">
            <div class="search-border-anim"></div>
            <input type="text" id="search-input" placeholder="Buscar en la base de datos..." onkeyup="globalSearch()">
            <i class="fas fa-search"></i>
        </div>

        <div class="nav-controls">
            <button class="nav-btn" onclick="goHome()"><i class="fas fa-home"></i></button>
            <button class="nav-btn" onclick="goBack()"><i class="fas fa-chevron-left"></i></button>
            <button class="nav-btn" onclick="goForward()"><i class="fas fa-chevron-right"></i></button>
        </div>
    </header>

    <main>
        <section id="view-2" class="hidden fade-in">
            <h2 class="view-title">SELECCIONAR PERFIL</h2>
            <div class="profiles-container">
                <div class="profile-card" onclick="selectCourse('1ero Informática', 'https://via.placeholder.com/150/00F3FF/000?text=1ERO')">
                    <img src="https://via.placeholder.com/150/00F3FF/000?text=1ERO">
                    <h3>1ERO INFORMÁTICA</h3>
                </div>
                <div class="profile-card" onclick="selectCourse('2do Informática', 'https://via.placeholder.com/150/BC13FE/000?text=2DO')">
                    <img src="https://via.placeholder.com/150/BC13FE/000?text=2DO">
                    <h3>2DO INFORMÁTICA</h3>
                </div>
                <div class="profile-card" onclick="selectCourse('3ero Informática', 'https://via.placeholder.com/150/FFD700/000?text=3ERO')">
                    <img src="https://via.placeholder.com/150/FFD700/000?text=3ERO">
                    <h3>3ERO INFORMÁTICA</h3>
                </div>
            </div>
            <button id="admin-btn" onclick="toggleAdmin()">ADMIN: OFF</button>
        </section>

        <section id="view-3" class="hidden fade-in">
            <div class="dashboard-grid" id="menu-grid">
                <div class="dash-card" onclick="goToInterface(4, 'integrantes')"><i class="fas fa-users"></i><span>INTEGRANTES</span></div>
                <div class="dash-card" onclick="goToInterface(4, 'profesores')"><i class="fas fa-chalkboard-user"></i><span>PROFESORES</span></div>
                <div class="dash-card" onclick="goToInterface(5, 'fotos')"><i class="fas fa-camera"></i><span>FOTOS</span></div>
                <div class="dash-card" onclick="goToInterface(5, 'videos')"><i class="fas fa-video"></i><span>VIDEOS</span></div>
                <div class="dash-card" onclick="goToInterface(5, 'videos_especiales')"><i class="fas fa-star"></i><span>VIDEOS ESP.</span></div>
                <div class="dash-card" onclick="goToInterface(7)"><i class="fas fa-trophy"></i><span>PREMIACIONES</span></div>
                <div class="dash-card" onclick="goToInterface(9)"><i class="fas fa-circle-info"></i><span>INFORMACIÓN</span></div>
            </div>
            <div id="search-results" class="hidden"></div>
        </section>

        <section id="view-4" class="hidden fade-in">
            <h2 class="view-title" id="v4-title">LISTADO</h2>
            <div class="flip-grid" id="members-list"></div>
            <button class="fab hidden admin-only" onclick="openMemberModal()"><i class="fas fa-plus"></i></button>
        </section>

        <section id="view-5" class="hidden fade-in">
            <h2 class="view-title" id="v5-title">ÁLBUMES</h2>
            <div class="albums-grid" id="albums-list"></div>
            <button class="fab hidden admin-only" onclick="openAlbumModal()"><i class="fas fa-folder-plus"></i></button>
        </section>

        <section id="view-6" class="hidden fade-in">
            <h2 class="view-title" id="album-name-display">GALERÍA</h2>
            
            <div class="size-controls">
                <button onclick="setMediaSize('small')">Pequeño</button>
                <button onclick="setMediaSize('medium')">Mediano</button>
                <button onclick="setMediaSize('large')">Grande</button>
            </div>

            <div class="media-grid medium" id="media-list"></div>
            <button class="fab hidden admin-only" onclick="openMediaModal()"><i class="fas fa-cloud-upload-alt"></i></button>
        </section>

        <section id="view-7" class="hidden fade-in">
            <h2 class="view-title">PREMIACIONES</h2>
            
            <div class="awards-video-container">
                <div id="awards-main-video"></div>
                <div class="admin-only hidden" style="margin-top:10px;">
                    <input type="text" id="award-video-input" placeholder="URL YouTube Principal">
                    <button class="btn-neon small" onclick="saveAwardVideo()">Actualizar</button>
                </div>
            </div>

            <h3 class="subtitle">CATEGORÍAS</h3>
            <div class="categories-grid" id="categories-list"></div>
            <button class="fab hidden admin-only" onclick="openCategoryModal()"><i class="fas fa-plus"></i></button>
        </section>

        <section id="view-8" class="hidden fade-in">
            <h2 class="view-title" id="cat-title-display">DETALLE</h2>
            
            <div class="awards-split">
                <div class="col-nominees">
                    <h3>NOMINADOS</h3>
                    <div id="nominees-list" class="nominees-container"></div>
                    <button class="btn-neon small hidden admin-only" onclick="openNomineeModal('nominee')">+ Nominado</button>
                </div>
                <div class="col-winner">
                    <h3>GANADOR</h3>
                    <div id="winner-display" class="winner-container"></div>
                    <button class="btn-neon small hidden admin-only" onclick="openNomineeModal('winner')">+ Ganador</button>
                </div>
            </div>
        </section>

        <section id="view-9" class="hidden fade-in">
            <h2 class="view-title">INFORMACIÓN</h2>
            
            <div class="info-layout">
                <div class="info-card border-flow-1">
                    <h3>REDES SOCIALES</h3>
                    <div id="info-socials" class="info-content-list"></div>
                </div>

                <div class="info-card border-flow-2">
                    <h3>¿QUIÉNES SOMOS?</h3>
                    <div class="about-text">
                        <p>Somos estudiantes apasionados por la tecnología, creando el futuro hoy.</p>
                        <p>Innovación, desarrollo y creatividad.</p>
                    </div>
                </div>

                <div class="info-card border-flow-3">
                    <h3>CONTACTOS</h3>
                    <div id="info-contacts" class="info-content-list"></div>
                </div>
            </div>
            
            <button class="fab hidden admin-only" onclick="document.getElementById('social-modal').classList.remove('hidden')"><i class="fas fa-plus"></i></button>
        </section>

    </main>

    <script src="script.js"></script>
</body>
</html>