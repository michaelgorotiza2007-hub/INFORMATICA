<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informática - Plataforma Web</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>

    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div id="toast-container"></div>

    <div id="password-modal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <h3>SEGURIDAD</h3>
            <p>Ingrese clave de administrador</p>
            <input type="password" id="admin-pass-input" placeholder="Contraseña...">
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeModal('password-modal')">Cancelar</button>
                <button class="btn-confirm" onclick="verifyPassword()">ACCEDER</button>
            </div>
        </div>
    </div>

    <div id="edit-member-modal" class="modal-overlay hidden">
        <div class="modal-content glass-panel large-modal">
            <h3>PERFIL DE USUARIO</h3>
            <div class="form-group">
                <label>Foto de Perfil</label>
                <div class="upload-row">
                    <button class="btn-modern small" id="btn-upload-photo"><i class="fas fa-camera"></i> Subir Foto</button>
                    <span id="status-photo" class="status-text">Sin archivo</span>
                </div>
                <input type="hidden" id="url-photo">
            </div>
            <div class="form-grid-2">
                <input type="text" id="edit-name" placeholder="Nombres">
                <input type="text" id="edit-last" placeholder="Apellidos">
                <input type="text" id="edit-nick" placeholder="Apodo">
                <input type="text" id="edit-prof" placeholder="Profesión">
            </div>
            <div class="form-group">
                <label>Música Favorita (Para búsqueda)</label>
                <input type="text" id="edit-music-name" placeholder="Nombre de la canción/artista"> 
                <div class="upload-row" style="margin-top:5px;">
                    <button class="btn-modern small" id="btn-upload-music"><i class="fas fa-music"></i> Subir MP3</button>
                    <span id="status-music" class="status-text">Sin archivo</span>
                </div>
                <input type="hidden" id="url-music">
            </div>
            <input type="hidden" id="edit-id">
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeModal('edit-member-modal')">Cancelar</button>
                <button class="btn-confirm" onclick="saveMemberChanges()">GUARDAR</button>
            </div>
        </div>
    </div>

    <div id="album-modal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <h3>NUEVO ÁLBUM</h3>
            <input type="text" id="album-name-input" placeholder="Nombre del Álbum">
            <div class="upload-row">
                <button class="btn-modern small" id="btn-upload-album-cover"><i class="fas fa-image"></i> Portada</button>
                <span id="status-album-cover" class="status-text">Sin archivo</span>
            </div>
            <input type="hidden" id="url-album-cover">
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeModal('album-modal')">Cancelar</button>
                <button class="btn-confirm" onclick="saveAlbum()">CREAR ÁLBUM</button>
            </div>
        </div>
    </div>

    <div id="category-modal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <h3>NUEVA CATEGORÍA</h3>
            <input type="text" id="cat-name-input" placeholder="Ej: Mejor Programador">
            <div class="upload-row">
                <button class="btn-modern small" id="btn-upload-cat-cover"><i class="fas fa-image"></i> Imagen Fondo</button>
                <span id="status-cat-cover" class="status-text">Sin archivo</span>
            </div>
            <input type="hidden" id="url-cat-cover">
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeModal('category-modal')">Cancelar</button>
                <button class="btn-confirm" onclick="saveCategory()">CREAR</button>
            </div>
        </div>
    </div>

    <div id="nominee-modal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <h3 id="nominee-modal-title">AGREGAR NOMINADO</h3>
            <input type="text" id="nominee-name" placeholder="Nombre de la persona">
            <div class="upload-row">
                <button class="btn-modern small" id="btn-upload-nominee"><i class="fas fa-user"></i> Subir Foto</button>
                <span id="status-nominee" class="status-text">Sin archivo</span>
            </div>
            <input type="hidden" id="url-nominee">
            <input type="hidden" id="nominee-type"> <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeModal('nominee-modal')">Cancelar</button>
                <button class="btn-confirm" onclick="saveNominee()">GUARDAR</button>
            </div>
        </div>
    </div>

    <div id="youtube-modal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <h3>VIDEO INTRODUCTORIO</h3>
            <input type="text" id="yt-url-input" placeholder="Enlace de YouTube...">
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeModal('youtube-modal')">Cancelar</button>
                <button class="btn-confirm" onclick="saveYoutubeVideo()">Guardar</button>
            </div>
        </div>
    </div>

    <section id="view-1">
        <div class="logo-anim-container">
            <img src="logo1.png" alt="Logo" class="intro-logo" onerror="this.src='https://via.placeholder.com/150?text=LOGO'">
        </div>
        <h1 class="tech-title">INFORMÁTICA</h1>
        <button class="btn-main-start" onclick="goToInterface(2)">
            <span>INICIAR SISTEMA</span>
            <div class="liquid"></div>
        </button>
    </section>

    <header id="global-header" class="hidden glass-header">
        <div class="header-left">
            <img src="logo1.png" class="header-logo">
            <h2 id="header-course-name">CURSO</h2>
        </div>
        
        <div class="search-container hidden" id="search-bar-container">
            <div class="rainbow-border-box">
                <div class="search-inner">
                    <input type="text" class="search-input" id="search-input" placeholder="Buscar alumno, música, álbum..." onkeyup="filterContent()">
                    <i class="fas fa-search search-icon"></i>
                </div>
            </div>
        </div>

        <div class="header-controls">
            <button class="nav-icon-btn" onclick="goHome()"><i class="fas fa-home"></i></button>
            <button class="nav-icon-btn" onclick="goBack()"><i class="fas fa-arrow-left"></i></button>
            <button class="nav-icon-btn" onclick="goForward()"><i class="fas fa-arrow-right"></i></button>
        </div>
    </header>

    <div id="loading-screen" class="hidden">
        <div class="loader-circle"></div>
        <h2 class="blink-text">PROCESANDO...</h2>
    </div>

    <main id="main-content">
        
        <section id="view-2" class="hidden">
            <h1 class="section-title">SELECCIÓN DE CURSO</h1>
            <div class="card-container-3d">
                <div class="course-card-3d" onclick="selectCourse('1ERO INFORMÁTICA')">
                    <div class="card-content"><h2>1ERO</h2><p>INFORMÁTICA</p></div>
                </div>
                <div class="course-card-3d" onclick="selectCourse('2DO INFORMÁTICA')">
                    <div class="card-content"><h2>2DO</h2><p>INFORMÁTICA</p></div>
                </div>
                <div class="course-card-3d" onclick="selectCourse('3ERO INFORMÁTICA')">
                    <div class="card-content"><h2>3ERO</h2><p>INFORMÁTICA</p></div>
                </div>
            </div>
            
            <div class="moderator-panel">
                <div class="toggle-wrapper" onclick="handleModeratorClick(event)">
                    <div class="toggle-switch" id="mod-switch"><div class="toggle-knob"></div></div>
                    <span class="toggle-label">MODO MODERADOR</span>
                </div>
                <input type="checkbox" id="mod-checkbox" style="display:none;"> 
            </div>
        </section>

        <section id="view-3" class="hidden">
            <div class="dashboard-grid">
                <button class="dash-btn" onclick="goToInterface(4, 'integrantes')"><i class="fas fa-users"></i><span>INTEGRANTES</span></button>
                <button class="dash-btn" onclick="goToInterface(5, 'fotos')"><i class="fas fa-camera-retro"></i><span>FOTOS</span></button>
                <button class="dash-btn" onclick="goToInterface(5, 'videos')"><i class="fas fa-film"></i><span>VIDEOS</span></button>
                <button class="dash-btn" onclick="goToInterface(7)"><i class="fas fa-trophy"></i><span>PREMIOS</span></button>
                <button class="dash-btn" onclick="goToInterface(4, 'profesores')"><i class="fas fa-chalkboard-teacher"></i><span>PROFESORES</span></button>
                <button class="dash-btn" onclick="goToInterface(9)"><i class="fas fa-info-circle"></i><span>INFORMACIÓN</span></button>
            </div>
        </section>

        <section id="view-4" class="hidden">
            <h2 id="view-4-title" class="section-title">INTEGRANTES</h2>
            <div class="members-grid" id="members-list"></div>
            <button class="fab hidden" onclick="openEditModal(null)"><i class="fas fa-plus"></i></button>
        </section>

        <section id="view-5" class="hidden">
            <h2 id="view-5-title" class="section-title">ÁLBUMES</h2>
            <div class="album-grid" id="album-list"></div>
            <button class="fab hidden" onclick="openAlbumModal()"><i class="fas fa-folder-plus"></i></button>
        </section>

        <section id="view-6" class="hidden">
            <h2 id="view-6-title" class="section-title">GALERÍA</h2>
            <div class="google-photos-grid" id="gallery-list"></div>
            <button class="fab hidden" onclick="uploadMediaToAlbum()"><i class="fas fa-cloud-upload-alt"></i></button>
        </section>

        <section id="view-7" class="hidden">
            <h2 class="section-title">PREMIOS DEL AÑO</h2>
            <div class="video-container-main" id="main-video-container"></div>
            
            <div class="admin-controls-center hidden" id="video-controls">
                <button class="btn-modern small" onclick="document.getElementById('youtube-modal').classList.remove('hidden')">CAMBIAR VIDEO</button>
            </div>

            <div class="center-row" style="margin-top:30px;">
                <button class="btn-modern large" onclick="goToInterface(8)">VER CATEGORÍAS Y GANADORES <i class="fas fa-arrow-right"></i></button>
            </div>
        </section>

        <section id="view-8" class="hidden">
            <h2 class="section-title">CATEGORÍAS</h2>
            <div class="card-container-3d" id="categories-list">
                </div>
            <button class="fab hidden" onclick="openCategoryModal()"><i class="fas fa-plus-circle"></i></button>
        </section>

        <section id="view-10" class="hidden">
            <h2 id="category-title-display" class="section-title">DETALLE CATEGORÍA</h2>
            <div class="winners-layout">
                <div class="winner-col">
                    <h3>NOMINADOS</h3>
                    <div id="col-nominados" class="winners-grid-inner"></div>
                    <button class="btn-modern small hidden admin-only" style="margin-top:10px;" onclick="openNomineeModal('nominee')">+ Nominado</button>
                </div>
                <div class="winner-col main-winner">
                    <h3>GANADOR</h3>
                    <div id="col-ganadores" class="winner-spot"></div>
                    <button class="btn-modern small hidden admin-only" style="margin-top:10px;" onclick="openNomineeModal('winner')">+ Ganador</button>
                </div>
            </div>
        </section>

        <section id="view-9" class="hidden">
            <div class="info-layout">
                <div class="info-column">
                    <div class="info-card-modern">
                        <div class="card-icon"><i class="fas fa-share-alt"></i></div>
                        <h3>SÍGUENOS</h3>
                        <div class="social-buttons-list">
                            <a href="https://facebook.com" target="_blank" class="social-row fb">
                                <i class="fab fa-facebook-f"></i> Facebook
                            </a>
                            <a href="https://instagram.com" target="_blank" class="social-row ig">
                                <i class="fab fa-instagram"></i> Instagram
                            </a>
                            <a href="https://tiktok.com" target="_blank" class="social-row tk">
                                <i class="fab fa-tiktok"></i> TikTok
                            </a>
                            <a href="https://youtube.com" target="_blank" class="social-row yt">
                                <i class="fab fa-youtube"></i> YouTube
                            </a>
                            <a href="https://github.com" target="_blank" class="social-row gh">
                                <i class="fab fa-github"></i> GitHub
                            </a>
                        </div>
                    </div>
                </div>

                <div class="info-column center">
                    <div class="info-card-modern highlight-card">
                        <div class="card-icon"><i class="fas fa-laptop-code"></i></div>
                        <h3>¿QUIÉNES SOMOS?</h3>
                        <p>Somos estudiantes de Informática apasionados por la tecnología. Este sitio web es nuestro portafolio digital donde mostramos la creatividad, innovación y los logros obtenidos durante nuestro periodo lectivo.</p>
                    </div>
                </div>

                <div class="info-column">
                    <div class="info-card-modern">
                        <div class="card-icon"><i class="fas fa-address-book"></i></div>
                        <h3>CONTACTOS</h3>
                        <div class="contact-list-modern">
                            <div class="contact-item">
                                <i class="fab fa-whatsapp"></i>
                                <div><span>Presidencia</span><strong>099-123-4567</strong></div>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-phone-alt"></i>
                                <div><span>Secretaría</span><strong>098-765-4321</strong></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <audio id="click-sound" src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"></audio>
    <script src="script.js"></script>
</body>
</html>