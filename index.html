<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma Informática Premium</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>

    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="background-animate"></div>
    <div class="scanlines"></div>

    <div id="toast-container"></div>

    <div id="password-modal" class="modal-overlay hidden">
        <div class="modal-card glass-effect">
            <div class="modal-header">
                <i class="fas fa-shield-virus"></i>
                <h3>ACCESO RESTRINGIDO</h3>
            </div>
            <p>Introduce credenciales de administrador</p>
            <div class="input-group">
                <input type="password" id="admin-pass-input" placeholder=" ">
                <label>Contraseña</label>
            </div>
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('password-modal')">CANCELAR</button>
                <button class="btn-neon" onclick="verifyPassword()">ACCEDER</button>
            </div>
        </div>
    </div>

    <div id="edit-member-modal" class="modal-overlay hidden">
        <div class="modal-card glass-effect large">
            <h3 id="modal-member-title">GESTIÓN DE PERFIL</h3>
            
            <div class="upload-section">
                <div class="upload-box">
                    <button class="btn-icon-upload" id="btn-upload-photo" type="button">
                        <i class="fas fa-camera"></i>
                    </button>
                    <span id="status-photo" class="status-badge">Sin foto</span>
                    <input type="hidden" id="url-photo">
                </div>
                <div class="upload-box">
                    <button class="btn-icon-upload" id="btn-upload-music" type="button">
                        <i class="fas fa-music"></i>
                    </button>
                    <span id="status-music" class="status-badge">Sin audio</span>
                    <input type="hidden" id="url-music">
                </div>
            </div>

            <div class="grid-2">
                <div class="input-group">
                    <input type="text" id="edit-name" placeholder=" ">
                    <label>Nombre</label>
                </div>
                <div class="input-group">
                    <input type="text" id="edit-last" placeholder=" ">
                    <label>Apellido</label>
                </div>
                <div class="input-group">
                    <input type="text" id="edit-nick" placeholder=" ">
                    <label>Apodo</label>
                </div>
                <div class="input-group">
                    <input type="text" id="edit-prof" placeholder=" ">
                    <label>Profesión</label>
                </div>
            </div>
            
            <div class="input-group full-width">
                <input type="text" id="edit-music-name" placeholder=" ">
                <label>Nombre de canción favorita</label>
            </div>

            <input type="hidden" id="edit-id">
            
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('edit-member-modal')">CERRAR</button>
                <button class="btn-neon" id="btn-save-member" onclick="saveMemberChanges()">GUARDAR DATOS</button>
            </div>
        </div>
    </div>

    <div id="album-modal" class="modal-overlay hidden">
        <div class="modal-card glass-effect">
            <h3>NUEVO ÁLBUM</h3>
            <div class="input-group">
                <input type="text" id="album-name-input" placeholder=" ">
                <label>Nombre del álbum</label>
            </div>
            <div class="upload-row-modern">
                <button class="btn-small-upload" id="btn-upload-album-cover" type="button"><i class="fas fa-image"></i> Cargar Portada</button>
                <span id="status-album-cover">Pendiente</span>
            </div>
            <input type="hidden" id="url-album-cover">
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('album-modal')">CANCELAR</button>
                <button class="btn-neon" id="btn-save-album" onclick="saveAlbum()">CREAR</button>
            </div>
        </div>
    </div>

    <div id="category-modal" class="modal-overlay hidden">
        <div class="modal-card glass-effect">
            <h3>NUEVA CATEGORÍA</h3>
            <div class="input-group">
                <input type="text" id="cat-name-input" placeholder=" ">
                <label>Título (Ej: Mejor Amigo)</label>
            </div>
            <div class="upload-row-modern">
                <button class="btn-small-upload" id="btn-upload-cat-cover" type="button"><i class="fas fa-image"></i> Imagen Fondo</button>
                <span id="status-cat-cover">Pendiente</span>
            </div>
            <input type="hidden" id="url-cat-cover">
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('category-modal')">CANCELAR</button>
                <button class="btn-neon" id="btn-save-cat" onclick="saveCategory()">CREAR</button>
            </div>
        </div>
    </div>

    <div id="nominee-modal" class="modal-overlay hidden">
        <div class="modal-card glass-effect">
            <h3 id="nominee-modal-title">REGISTRO</h3>
            <div class="input-group">
                <input type="text" id="nominee-name" placeholder=" ">
                <label>Nombre del estudiante</label>
            </div>
            <div class="upload-row-modern">
                <button class="btn-small-upload" id="btn-upload-nominee" type="button"><i class="fas fa-user-circle"></i> Subir Foto</button>
                <span id="status-nominee">Pendiente</span>
            </div>
            <input type="hidden" id="url-nominee">
            <input type="hidden" id="nominee-type">
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('nominee-modal')">CANCELAR</button>
                <button class="btn-neon" id="btn-save-nominee" onclick="saveNominee()">GUARDAR</button>
            </div>
        </div>
    </div>

    <div id="youtube-modal" class="modal-overlay hidden">
        <div class="modal-card glass-effect">
            <h3>VIDEO DESTACADO</h3>
            <div class="input-group">
                <input type="text" id="yt-url-input" placeholder=" ">
                <label>Enlace de YouTube</label>
            </div>
            <div class="modal-actions">
                <button class="btn-ghost" onclick="closeModal('youtube-modal')">CANCELAR</button>
                <button class="btn-neon" id="btn-save-yt" onclick="saveYoutubeVideo()">ACTUALIZAR</button>
            </div>
        </div>
    </div>

    <section id="view-1">
        <div class="logo-wrapper">
            <div class="ring"></div>
            <img src="logo1.png" alt="Logo" class="intro-logo" onerror="this.src='https://via.placeholder.com/150?text=LOGO'">
        </div>
        <h1 class="glitch-title" data-text="INFORMÁTICA">INFORMÁTICA</h1>
        <button class="btn-start" onclick="goToInterface(2)">
            <span>INICIAR SISTEMA</span>
        </button>
    </section>

    <header id="global-header" class="hidden glass-nav">
        <div class="nav-brand">
            <img src="logo1.png" class="nav-logo">
            <span id="header-course-name">CURSO</span>
        </div>
        
        <div class="search-container hidden" id="search-bar-container">
            <div class="search-wrapper-animated">
                <input type="text" class="search-input" id="search-input" placeholder="Buscar en la base de datos..." onkeyup="filterContent()">
                <i class="fas fa-search"></i>
            </div>
        </div>

        <div class="nav-actions">
            <button class="nav-btn" onclick="goHome()"><i class="fas fa-home"></i></button>
            <button class="nav-btn" onclick="goBack()"><i class="fas fa-chevron-left"></i></button>
            <button class="nav-btn" onclick="goForward()"><i class="fas fa-chevron-right"></i></button>
        </div>
    </header>

    <div id="loading-screen" class="hidden">
        <div class="loader-tech">
            <span></span><span></span><span></span>
        </div>
        <h2 class="loading-text">CARGANDO DATOS...</h2>
    </div>

    <main id="main-content">
        
        <section id="view-2" class="hidden fade-in">
            <h1 class="page-title">SELECCIONAR NIVEL</h1>
            <div class="cards-3d-wrapper">
                <div class="card-3d" onclick="selectCourse('1ERO INFORMÁTICA')">
                    <div class="card-3d-content">
                        <h2>1ERO</h2>
                        <p>INFORMÁTICA</p>
                        <div class="glow"></div>
                    </div>
                </div>
                <div class="card-3d" onclick="selectCourse('2DO INFORMÁTICA')">
                    <div class="card-3d-content">
                        <h2>2DO</h2>
                        <p>INFORMÁTICA</p>
                        <div class="glow"></div>
                    </div>
                </div>
                <div class="card-3d" onclick="selectCourse('3ERO INFORMÁTICA')">
                    <div class="card-3d-content">
                        <h2>3ERO</h2>
                        <p>INFORMÁTICA</p>
                        <div class="glow"></div>
                    </div>
                </div>
            </div>
            
            <div class="admin-toggle-container">
                <label class="toggle-switch">
                    <input type="checkbox" id="mod-checkbox" onclick="handleModeratorClick(event)">
                    <span class="slider"></span>
                </label>
                <span class="toggle-text">MODO ADMINISTRADOR</span>
            </div>
        </section>

        <section id="view-3" class="hidden fade-in">
            <div class="dashboard-grid">
                <button class="dash-tile" onclick="goToInterface(4, 'integrantes')">
                    <div class="tile-icon"><i class="fas fa-users"></i></div>
                    <span>INTEGRANTES</span>
                </button>
                <button class="dash-tile" onclick="goToInterface(5, 'fotos')">
                    <div class="tile-icon"><i class="fas fa-camera"></i></div>
                    <span>FOTOS</span>
                </button>
                <button class="dash-tile" onclick="goToInterface(5, 'videos')">
                    <div class="tile-icon"><i class="fas fa-video"></i></div>
                    <span>VIDEOS</span>
                </button>
                <button class="dash-tile" onclick="goToInterface(7)">
                    <div class="tile-icon"><i class="fas fa-trophy"></i></div>
                    <span>PREMIOS</span>
                </button>
                <button class="dash-tile" onclick="goToInterface(4, 'profesores')">
                    <div class="tile-icon"><i class="fas fa-chalkboard-user"></i></div>
                    <span>PROFESORES</span>
                </button>
                <button class="dash-tile" onclick="goToInterface(9)">
                    <div class="tile-icon"><i class="fas fa-circle-info"></i></div>
                    <span>INFO</span>
                </button>
            </div>
        </section>

        <section id="view-4" class="hidden fade-in">
            <h2 id="view-4-title" class="page-title">INTEGRANTES</h2>
            <div class="members-grid" id="members-list"></div>
            <button class="fab hidden" onclick="openEditModal(null)"><i class="fas fa-plus"></i></button>
        </section>

        <section id="view-5" class="hidden fade-in">
            <h2 id="view-5-title" class="page-title">ÁLBUMES</h2>
            <div class="album-grid" id="album-list"></div>
            <button class="fab hidden" onclick="openAlbumModal()"><i class="fas fa-folder-plus"></i></button>
        </section>

        <section id="view-6" class="hidden fade-in">
            <h2 id="view-6-title" class="page-title">GALERÍA</h2>
            <div class="masonry-grid" id="gallery-list"></div>
            <button class="fab hidden" onclick="uploadMediaToAlbum()"><i class="fas fa-cloud-upload-alt"></i></button>
        </section>

        <section id="view-7" class="hidden fade-in">
            <h2 class="page-title">VIDEO DESTACADO</h2>
            <div class="video-frame-neon" id="main-video-container">
                <p>No hay video configurado</p>
            </div>
            <div class="controls-center hidden" id="video-controls">
                <button class="btn-neon small" onclick="document.getElementById('youtube-modal').classList.remove('hidden')">CAMBIAR VIDEO</button>
            </div>
            <div class="nav-forward-container">
                <button class="btn-link-forward" onclick="goToInterface(8)">
                    VER NOMINADOS <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </section>

        <section id="view-8" class="hidden fade-in">
            <h2 class="page-title">CATEGORÍAS DE PREMIOS</h2>
            <div class="cards-3d-wrapper" id="categories-list"></div>
            <button class="fab hidden" onclick="openCategoryModal()"><i class="fas fa-plus"></i></button>
        </section>

        <section id="view-10" class="hidden fade-in">
            <h2 id="category-title-display" class="page-title">DETALLE</h2>
            <div class="awards-split">
                <div class="award-panel">
                    <h3>NOMINADOS</h3>
                    <div id="col-nominados" class="nominees-list"></div>
                    <button class="btn-neon small hidden admin-only" onclick="openNomineeModal('nominee')">+ AGREGAR</button>
                </div>
                <div class="award-panel winner-panel">
                    <h3>GANADOR</h3>
                    <div id="col-ganadores" class="winner-display"></div>
                    <button class="btn-neon small hidden admin-only" onclick="openNomineeModal('winner')">+ DEFINIR</button>
                </div>
            </div>
        </section>

        <section id="view-9" class="hidden fade-in">
            <div class="info-layout-modern">
                <div class="info-box glass-effect">
                    <div class="icon-header"><i class="fas fa-share-nodes"></i></div>
                    <h3>REDES SOCIALES</h3>
                    <div class="social-links-vertical">
                        <a href="https://facebook.com" target="_blank" class="social-item fb"><i class="fab fa-facebook-f"></i> Facebook</a>
                        <a href="https://instagram.com" target="_blank" class="social-item ig"><i class="fab fa-instagram"></i> Instagram</a>
                        <a href="https://tiktok.com" target="_blank" class="social-item tk"><i class="fab fa-tiktok"></i> TikTok</a>
                        <a href="https://youtube.com" target="_blank" class="social-item yt"><i class="fab fa-youtube"></i> YouTube</a>
                    </div>
                </div>
                <div class="info-box glass-effect highlight">
                    <div class="icon-header"><i class="fas fa-fingerprint"></i></div>
                    <h3>NOSOTROS</h3>
                    <p>Una nueva generación de desarrolladores. Creamos el futuro con cada línea de código.</p>
                </div>
                <div class="info-box glass-effect">
                    <div class="icon-header"><i class="fas fa-address-book"></i></div>
                    <h3>CONTACTO</h3>
                    <div class="contact-data">
                        <div class="c-row"><i class="fab fa-whatsapp"></i> 099-123-4567</div>
                        <div class="c-row"><i class="fas fa-envelope"></i> admin@curso.com</div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <audio id="click-sound" src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"></audio>
    <script src="script.js"></script>
</body>
</html>